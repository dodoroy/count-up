"use strict";function _slicedToArray(t,a){return _arrayWithHoles(t)||_iterableToArrayLimit(t,a)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,a){var i=[],e=!0,n=!1,s=void 0;try{for(var r,l=t[Symbol.iterator]();!(e=(r=l.next()).done)&&(i.push(r.value),!a||i.length!==a);e=!0);}catch(t){n=!0,s=t}finally{try{e||null==l.return||l.return()}finally{if(n)throw s}}return i}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,a){for(var i=0;i<a.length;i++){var e=a[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function _createClass(t,a,i){return a&&_defineProperties(t.prototype,a),i&&_defineProperties(t,i),t}var CountUp=function(){function n(t,a,i){if(_classCallCheck(this,n),this.version="2.0.2",this.el="string"==typeof t?document.getElementById(t):t,this.el){this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:""},this.options=Object.assign({},this.defaults,i),this.startVal=this.validateValue(this.options.startVal),this.endVal=this.validateValue(a),this.frameVal=this.startVal,this.finalEndVal=null,this.useEasing=this.options.useEasing,this.countDown=!1,this.paused=!0,this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:n.easeOutExpo,this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.decimalMult=Math.pow(10,this.options.decimalPlaces),this.options.separator=String(this.options.separator),""===this.options.separator&&(this.options.useGrouping=!1),this.resetDuration(),this.printValue(this.startVal);var e=this;this.count=function(t){e.startTime||(e.startTime=t);var a=t-e.startTime;e.remaining=e.duration-a,e.useEasing?e.countDown?e.frameVal=e.startVal-e.easingFn(a,0,e.startVal-e.endVal,e.duration):e.frameVal=e.easingFn(a,e.startVal,e.endVal-e.startVal,e.duration):e.countDown?e.frameVal=e.startVal-(e.startVal-e.endVal)*(a/e.duration):e.frameVal=e.startVal+(e.endVal-e.startVal)*(a/e.duration),e.countDown?e.frameVal=e.frameVal<e.endVal?e.endVal:e.frameVal:e.frameVal=e.frameVal>e.endVal?e.endVal:e.frameVal,e.frameVal=Math.round(e.frameVal*e.decimalMult)/e.decimalMult,e.printValue(e.frameVal),a<e.duration?e.rAF=requestAnimationFrame(e.count):null!==e.finalEndVal?e.update(e.finalEndVal):e.callback&&e.callback()}}else this.error="[CountUp] target is null or undefined"}return _createClass(n,[{key:"start",value:function(t){this.error||(this.callback=t,0<this.duration?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))}},{key:"pauseResume",value:function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused}},{key:"reset",value:function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)}},{key:"update",value:function(){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(this.endVal),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal||this.resetDuration(),this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))}},{key:"resetDuration",value:function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration}},{key:"determineDirectionAndSmartEasing",value:function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var a=t-this.startVal;if(Math.abs(a)>this.options.smartEasingThreshold){this.finalEndVal=t;var i=this.countDown?1:-1;this.endVal=t+i*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing}},{key:"printValue",value:function(t){var a=this.formattingFn(t);"INPUT"===this.el.tagName?this.el.value=a:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=a:this.el.innerHTML=a}},{key:"validateValue",value:function(t){var a=Number(t);return n.ensureNumber(a)?a:(this.error="[CountUp] invalid start or end value: ".concat(t),null)}},{key:"formatNumber",value:function(t){var a,i,e,n=t<0?"-":"",s=Math.abs(t).toFixed(this.options.decimalPlaces).split(".");if("",a=_slicedToArray(s,1)[0],i=1<s.length?this.options.decimal+s[1]:"",this.options.useGrouping){e="";for(var r=0,l=a.length;r<l;++r)0!==r&&r%3==0&&(e=this.options.separator+e),e=a[l-r-1]+e;a=e}return this.options.numerals&&this.options.numerals.length&&(a=a.replace(/[0-9]/g,function(t){return this.options.numerals[+t]}),i=i.replace(/[0-9]/g,function(t){return this.options.numerals[+t]})),n+this.options.prefix+a+i+this.options.suffix}}],[{key:"ensureNumber",value:function(t){return"number"==typeof t&&!isNaN(t)}},{key:"easeOutExpo",value:function(t,a,i,e){return i*(1-Math.pow(2,-10*t/e))*1024/1023+a}}]),n}();